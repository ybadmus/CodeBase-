<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ITAPS HOST</title>
    <link rel="icon" href="~/images/itaps.png" type="image/x-icon" />
    <meta name="robots" content="noindex">
    <!-- Simplebar -->
    <link type="text/css" href="~/vendor/simplebar.min.css" rel="stylesheet">
    <!-- App CSS -->
    <link type="text/css" href="~/css/app.css" rel="stylesheet">
    <link type="text/css" href="~/css/app.rtl.css" rel="stylesheet">
    <!-- Material Design Icons -->
    <link type="text/css" href="~/css/vendor-material-icons.css" rel="stylesheet">
    <link type="text/css" href="~/css/vendor-material-icons.rtl.css" rel="stylesheet">
    <!-- Font Awesome FREE Icons -->
    <link type="text/css" href="~/css/vendor-fontawesome-free.css" rel="stylesheet">
    <link type="text/css" href="~/css/vendor-fontawesome-free.rtl.css" rel="stylesheet">
    <!-- Flatpickr -->
    <link type="text/css" href="~/css/vendor-flatpickr.css" rel="stylesheet">
    <link type="text/css" href="~/css/vendor-flatpickr.rtl.css" rel="stylesheet">
    <link type="text/css" href="~/css/vendor-flatpickr-airbnb.css" rel="stylesheet">
    <link type="text/css" href="~/css/vendor-flatpickr-airbnb.rtl.css" rel="stylesheet">
    <!-- Vector Maps -->
    <link type="text/css" href="~/vendor/jqvmap/jqvmap.min.css" rel="stylesheet">
    <link href="~/css/Itaps-custom.css" rel="stylesheet" />

    <style>
        select {
            width: 100% !important;
        }

        label > span {
            color: black !important;
        }
    </style>

    @RenderSection("css", required: false)
</head>
<body class="layout-default">

    @{

    }

    <div class="preloader"></div>
    <div class="mdk-header-layout js-mdk-header-layout">
        <!-- Header -->

        <div id="header" class="mdk-header js-mdk-header m-0" data-fixed>
            <div class="mdk-header__content">

                <div class="navbar navbar-expand-sm navbar-main navbar-dark bg-dark  pr-0" id="navbar" data-primary>
                    <div class="container-fluid p-0">
                        <!-- Navbar toggler -->
                        <button class="navbar-toggler navbar-toggler-right d-block d-md-none" type="button" data-toggle="sidebar">
                            <span class="navbar-toggler-icon"></span>
                        </button>
                        <!-- Navbar Brand -->
                        <a href="~/home" class="navbar-brand ">
                            <img class="navbar-brand-icon" src="~/images/itaps.png" width="50" alt="Stack" />
                            <span>iTaPS HOST</span>
                        </a>
                        <ul class="nav navbar-nav d-none d-sm-flex border-left navbar-height align-items-center">
                            <li class="nav-item border-left dropdown">
                                <a href="#notifications_menu" class="nav-link dropdown-toggle" data-toggle="dropdown" data-caret="false">
                                    <i class="material-icons nav-icon navbar-notifications-indicator">notifications</i>
                                </a>
                                <div id="notification_menu" class="dropdown-menu dropdown-menu-right">
                                    <div id="NotificationItems">
                                        @for (var i = 0; i < 10; i++)
                                        {
                                            <div class="dropdown-item-text dropdown-item-text--lh">
                                                <span class="text-secondary" id="NotificationTitle">PIT</span>
                                                <span class="text-dark-gray" id="NotificationMessage">Message brief decription</span>
                                            </div>
                                            <div class="dropdown-divider"></div>
                                        }
                                    </div>
                                    <div class="col-md-12 py-0 px-1 m-0">
                                        <button class="btn btn-xs btn-default">Close</button>
                                        <button class="btn btn-xs btn-default float-right" id="NotificationClearItems">Clear Items</button>
                                    </div>
                                </div>
                            </li>
                            <li class="nav-item border-left dropdown">
                                <a href="#account_menu" class="nav-link dropdown-toggle" data-toggle="dropdown" data-caret="false">
                                    <img src="~/images/icons/user.svg" class="rounded-circle" width="32" alt="">
                                    <span class="ml-1 d-flex-inline">
                                        <span class="text-light">
                                            Hello, <span class="UserFirstName">@ViewData["UserName"]</span>
                                        </span>
                                    </span>
                                </a>
                                <div id="account_menu" class="dropdown-menu dropdown-menu-right">
                                    <div class="dropdown-item-text dropdown-item-text--lh">
                                        <div><strong class="UserFullName" id="UserFullName">@ViewData["FullName"]</strong></div>
                                    </div>
                                    <div class="dropdown-divider"></div>
                                    <a class="dropdown-item active" href="~/home">Dashboard</a>
                                    <div class="dropdown-divider"></div>
                                    <a asp-page="/Logout" class="dropdown-item" id="LogOut">Logout</a>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>

            </div>
        </div>

        <div class="mdk-header-layout__content">

            <div class="mdk-drawer-layout js-mdk-drawer-layout" data-push data-responsive-width="992px">
                <div class="mdk-drawer-layout__content page">

                    <div class="container-fluid page__heading-container">
                        <div class="page__heading d-flex align-items-center">
                            <div class="flex">
                                <div class="row">
                                    <div class="col-md-9">
                                        <span class="m-0" style="font-size: 1.540625rem">
                                            <span id="pgHeader">@ViewBag.Title</span> -
                                            <span style="font-size:18px" class="pt-2">
                                                <span class="badge badge-success" style="font-size: 0.8em; border-radius:1.7em">
                                                    <span class="fa fa-user-circle"></span>
                                                    <span>&nbsp;<b class="TaxPayerName" id="TaxPayerName">@ViewData["FullName"]</b></span>
                                                </span>
                                            </span>
                                        </span>
                                    </div>
                                    <div class="col-md-3">
                                        <nav aria-label="breadcrumb">
                                            <ol class="breadcrumb mb-0 float-right">
                                                <li title="TaxPayer's Tax Office">Tax Office: <span id="TaxPayerTaxOffice" style="font-weight: 600"></span></li>
                                            </ol>
                                        </nav>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="container-fluid page__container">
                        @Html.AntiForgeryToken()

                        <!-- Contents go here -->
                        @RenderBody()
                    </div>

                </div>

                <div class="mdk-drawer  js-mdk-drawer" id="default-drawer" data-align="start">
                    <div class="mdk-drawer__content">
                        <div class="sidebar sidebar-light sidebar-left simplebar" data-simplebar>
                            <div class="sidebar-heading sidebar-m-t">Menu</div>
                            <ul class="sidebar-menu">
                                <li class="sidebar-menu-item home">
                                    <a class="sidebar-menu-button" href="~/home">
                                        <i class="sidebar-menu-icon sidebar-menu-icon--left material-icons">home</i>
                                        <span class="sidebar-menu-text">Home</span>
                                    </a>
                                </li>
                                <!-- PIT -->
                                <li class="sidebar-menu-item pit">
                                    <a class="sidebar-menu-button" data-toggle="collapse" href="#PIT_menu">
                                        <i class="sidebar-menu-icon sidebar-menu-icon--left material-icons">account_balance_wallet</i>
                                        <span class="sidebar-menu-text">Personal Income Tax</span>
                                        <span class="ml-auto sidebar-menu-toggle-icon"></span>
                                    </a>
                                    <ul class="sidebar-submenu collapse" id="PIT_menu">
                                        <li class="sidebar-menu-item estimates">
                                            <a class="sidebar-menu-button" href="~/pit/estimates">
                                                <span class="sidebar-menu-text">Annual Estimates</span>
                                            </a>
                                        </li>
                                        <li class="sidebar-menu-item estimatesRevised">
                                            <a class="sidebar-menu-button" href="~/pit/estimatesRevised">
                                                <span class="sidebar-menu-text">Revised Annual Estimates</span>
                                            </a>
                                        </li>
                                        <li class="sidebar-menu-item returns">
                                            <a class="sidebar-menu-button" href="~/pit/returns">
                                                <span class="sidebar-menu-text">Annual Returns</span>
                                            </a>
                                        </li>
                                        <li class="sidebar-menu-item returnsRevised">
                                            <a class="sidebar-menu-button" href="~/pit/returnsRevised">
                                                <span class="sidebar-menu-text">Revised Annual Returns</span>
                                            </a>
                                        </li>
                                    </ul>
                                </li>
                                <!-- PAYMENT -->
                                <li class="sidebar-menu-item payment">
                                    <a class="sidebar-menu-button" href="~/payment">
                                        <i class="sidebar-menu-icon sidebar-menu-icon--left material-icons">account_balance_wallet</i>
                                        <span class="sidebar-menu-text">Payment</span>
                                    </a>
                                </li>

                                <!-- WITHHOLDING -->
                                <li class="sidebar-menu-item wht">
                                    <a class="sidebar-menu-button" data-toggle="collapse" href="#WHT_menu">
                                        <i class="sidebar-menu-icon sidebar-menu-icon--left material-icons">account_balance_wallet</i>
                                        <span class="sidebar-menu-text">Withholding Tax</span>
                                        <span class="ml-auto sidebar-menu-toggle-icon"></span>
                                    </a>
                                    <ul class="sidebar-submenu collapse" id="WHT_menu">
                                        <li class="sidebar-menu-item new">
                                            <a class="sidebar-menu-button" href="~/wht/new">
                                                <span class="sidebar-menu-text">New Transaction</span>
                                            </a>
                                        </li>
                                        <li class="sidebar-menu-item update">
                                            <a class="sidebar-menu-button" href="~/wht/update">
                                                <span class="sidebar-menu-text">Revoke Transaction</span>
                                            </a>
                                        </li>
                                        <li class="sidebar-menu-item alltransactions">
                                            <a class="sidebar-menu-button" href="~/wht/alltransactions">
                                                <span class="sidebar-menu-text">WHT Transactions</span>
                                            </a>
                                        </li>
                                        <li class="sidebar-menu-item returns">
                                            <a class="sidebar-menu-button" href="~/wht/returns">
                                                <span class="sidebar-menu-text">WHT Returns</span>
                                            </a>
                                        </li>
                                        <li class="sidebar-menu-item returns">
                                            <a class="sidebar-menu-button" href="~/wht/vatreturns">
                                                <span class="sidebar-menu-text">WH VAT Returns</span>
                                            </a>
                                        </li>
                                    </ul>
                                </li>

                                <!-- APPLICATIONS -->
                                <li class="sidebar-menu-item applications">
                                    <a class="sidebar-menu-button" data-toggle="collapse" href="#APPLICATIONS_menu">
                                        <i class="sidebar-menu-icon sidebar-menu-icon--left material-icons">account_balance_wallet</i>
                                        <span class="sidebar-menu-text">Applications</span>
                                        <span class="ml-auto sidebar-menu-toggle-icon"></span>
                                    </a>
                                    <ul class="sidebar-submenu collapse" id="APPLICATIONS_menu">
                                        <li class="sidebar-menu-item tcc">
                                            <a class="sidebar-menu-button" href="~/applications/tcc">
                                                <span class="sidebar-menu-text">Tax Clearance Certificate</span>
                                            </a>
                                        </li>
                                        <li class="sidebar-menu-item whte">
                                            <a class="sidebar-menu-button" href="~/applications/whte">
                                                <span class="sidebar-menu-text">Withholding Tax Exemption</span>
                                            </a>
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        @RenderSection("modals", required: false)

        <!-- jQuery -->
        <script src="~/vendor/jquery.min.js"></script>
        <!-- Bootstrap -->
        <script src="~/vendor/popper.min.js"></script>
        <script src="~/vendor/bootstrap.min.js"></script>
        <!-- Simplebar -->
        <script src="~/vendor/simplebar.min.js"></script>
        <!-- DOM Factory -->
        <script src="~/vendor/dom-factory.js"></script>
        <!-- MDK -->
        <script src="~/vendor/material-design-kit.js"></script>
        <!-- App -->
        <script src="~/js/toggle-check-all.js"></script>
        <script src="~/js/check-selected-row.js"></script>
        <script src="~/js/dropdown.js"></script>
        <script src="~/js/sidebar-mini.js"></script>

        <script>
            (function () {
                'use strict';
                // Self Initialize DOM Factory Components
                domFactory.handler.autoInit()

                // Connect button(s) to drawer(s)
                var sidebarToggle = document.querySelectorAll('[data-toggle="sidebar"]')
                sidebarToggle = Array.prototype.slice.call(sidebarToggle)

                sidebarToggle.forEach(function (toggle) {
                    toggle.addEventListener('click', function (e) {
                        var selector = e.currentTarget.getAttribute('data-target') || '#default-drawer'
                        var drawer = document.querySelector(selector)
                        if (drawer) {
                            drawer.mdkDrawer.toggle()
                        }
                    })
                })

                let drawers = document.querySelectorAll('.mdk-drawer')
                drawers = Array.prototype.slice.call(drawers)
                drawers.forEach((drawer) => {
                    drawer.addEventListener('mdk-drawer-change', (e) => {
                        if (!e.target.mdkDrawer) {
                            return
                        }
                        document.querySelector('body').classList[e.target.mdkDrawer.opened ? 'add' : 'remove']('has-drawer-opened')
                        let button = document.querySelector('[data-target="#' + e.target.id + '"]')
                        if (button) {
                            button.classList[e.target.mdkDrawer.opened ? 'add' : 'remove']('active')
                        }
                    })
                })

                // SIDEBAR COLLAPSE MENUS
                $('.sidebar .collapse').on('show.bs.collapse', function (e) {
                    e.stopPropagation()
                    var parent = $(this).parents('.sidebar-submenu').get(0) || $(this).parents('.sidebar-menu').get(0)
                    $(parent).find('.open').find('.collapse').collapse('hide');
                    $(this).closest('li').addClass('open');
                });
                $('.sidebar .collapse').on('hidden.bs.collapse', function (e) {
                    e.stopPropagation()
                    $(this).closest('li').removeClass('open');
                });

                // ENABLE TOOLTIPS
                $('[data-toggle="tooltip"]').tooltip()

                // PRELOADER
                window.addEventListener('load', function () {
                    $('.preloader').fadeOut()
                    domFactory.handler.upgradeAll()
                })

            })()
        </script>

        <!-- App Settings (safe to remove) -->
        <script src="~/js/app-settings.js"></script>

        <script>
            (function () {
                'use strict';

                $('[data-toggle="tab"]').on('hide.bs.tab', function (e) {
                    $(e.target).removeClass('active')
                })

            })()
        </script>

        <!-- Flatpickr -->
        <script src="~/vendor/flatpickr/flatpickr.min.js"></script>
        <script src="~/js/flatpickr.js"></script>

        <!-- Global Settings -->
        <script src="~/js/settings.js"></script>

        <!-- Chart.js -->
        <script src="~/vendor/Chart.min.js"></script>

        <!-- App Charts JS -->
        <script src="~/js/charts.js"></script>

        <!-- Chart Samples -->
        <script>
            (function () {
                'use strict';

                Charts.init()

                var EarningsTraffic = function (id, type = 'line', options = {}) {
                    options = Chart.helpers.merge({
                        elements: {
                            line: {
                                fill: 'start',
                                backgroundColor: settings.charts.colors.area
                            }
                        }
                    }, options)

                    var data = {
                        labels: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
                        datasets: [{
                            label: "Traffic",
                            data: [10, 2, 5, 15, 10, 12, 15, 25, 22, 30, 25, 40]
                        }]
                    }

                    Charts.create(id, type, options, data)
                }

                var Products = function (id, type = 'line', options = {}, data) {
                    options = Chart.helpers.merge({
                        elements: {
                            line: {
                                fill: 'start',
                                backgroundColor: settings.charts.colors.area,
                                tension: 0,
                                borderWidth: 1
                            },
                            point: {
                                pointStyle: 'circle',
                                radius: 5,
                                hoverRadius: 5,
                                backgroundColor: settings.colors.white,
                                borderColor: settings.colors.primary[700],
                                borderWidth: 2
                            }
                        },
                        scales: {
                            yAxes: [{
                                display: false
                            }],
                            xAxes: [{
                                display: false
                            }]
                        }
                    }, options)

                    data = data || {
                        labels: ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"],
                        datasets: [{
                            label: "Earnings",
                            data: [400, 200, 450, 460, 220, 380, 800]
                        }]
                    }

                    Charts.create(id, type, options, data)
                }

                var Courses = function (id, type = 'line', options = {}) {
                    options = Chart.helpers.merge({
                        elements: {
                            line: {
                                borderColor: settings.colors.success[700],
                                backgroundColor: settings.hexToRGB(settings.colors.success[100], 0.5)
                            },
                            point: {
                                borderColor: settings.colors.success[700]
                            }
                        }
                    }, options)

                    Products(id, type, options)
                }

                var LocationDoughnut = function (id, type = 'doughnut', options = {}) {
                    options = Chart.helpers.merge({
                        tooltips: {
                            callbacks: {
                                title: function (a, e) {
                                    return e.labels[a[0].index]
                                },
                                label: function (a, e) {
                                    var t = "";
                                    return t += '<span class="popover-body-value">' + e.datasets[0].data[a.index] + "%</span>"
                                }
                            }
                        }
                    }, options)

                    var data = {
                        labels: ["United States", "United Kingdom", "Germany", "India"],
                        datasets: [{
                            data: [25, 25, 15, 35],
                            backgroundColor: [settings.colors.success[400], settings.colors.danger[400], settings.colors.primary[500], settings.colors.gray[300]],
                            hoverBorderColor: "dark" == settings.charts.colorScheme ? settings.colors.gray[800] : settings.colors.white
                        }]
                    }

                    Charts.create(id, type, options, data)
                }

                ///////////////////
                // Create Charts //
                ///////////////////

                EarningsTraffic('#earningsTrafficChart')
                LocationDoughnut('#locationDoughnutChart')
                Products('#productsChart')
                Courses('#coursesChart')

            })()
        </script>

        <!-- Vector Maps -->
        <script src="~/vendor/jqvmap/jquery.vmap.min.js"></script>
        <script src="~/vendor/jqvmap/maps/jquery.vmap.world.js"></script>
        <script src="~/js/vector-maps.js"></script>

        @RenderSection("scripts", required: false)
    </div>
</body>
</html>
