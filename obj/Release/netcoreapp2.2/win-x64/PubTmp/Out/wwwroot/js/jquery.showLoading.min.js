!function(factory){"use strict";"function"==typeof define&&define.amd?define(["jquery"],factory):"object"==typeof exports?module.exports=factory(require("jquery")):factory(jQuery)}(function($){"use strict";$.fn.showLoading=function(options){var settings={indicatorID:"",addClass:"",beforeShow:null,afterShow:null,hPos:"center",vPos:"center",indicatorZIndex:5001,overlayZIndex:5e3,parent:"",marginTop:0,marginLeft:0,overlayWidth:null,overlayHeight:null,overlayCSS:""};$.extend(settings,options);var $loadingDiv=$("<div></div>"),$overlayDiv=$("<div></div>"),indicatorID=settings.indicatorID||$(this).attr("id");if($("#loading-indicator-"+indicatorID).length)return this;$loadingDiv.attr("id","loading-indicator-"+indicatorID),$loadingDiv.addClass("loading-indicator"),settings.addClass&&$loadingDiv.addClass(settings.addClass),$overlayDiv.css("display","none"),$(document.body).append($overlayDiv),$overlayDiv.attr("id","loading-indicator-"+indicatorID+"-overlay"),$overlayDiv.addClass("loading-indicator-overlay"),settings.addClass&&$overlayDiv.addClass(settings.addClass+"-overlay");var borderTopWidth=$(this).css("border-top-width"),borderLeftWidth=$(this).css("border-left-width");borderTopWidth=isNaN(parseInt(borderTopWidth,10))?0:borderTopWidth,borderLeftWidth=isNaN(parseInt(borderLeftWidth,10))?0:borderLeftWidth;var overlayLeftPos=$(this).offset().left+parseInt(borderLeftWidth,10),overlayTopPos=$(this).offset().top+parseInt(borderTopWidth,10),overlayWidth=settings.overlayWidth||parseInt($(this).width(),10)+parseInt($(this).css("padding-right"),10)+parseInt($(this).css("padding-left"),10),overlayHeight=settings.overlayHeight||parseInt($(this).height(),10)+parseInt($(this).css("padding-top"),10)+parseInt($(this).css("padding-bottom"),10);$overlayDiv.css("width",overlayWidth.toString()+"px"),$overlayDiv.css("height",overlayHeight.toString()+"px"),$overlayDiv.css("left",overlayLeftPos.toString()+"px"),$overlayDiv.css("position","absolute"),$overlayDiv.css("top",overlayTopPos.toString()+"px"),$overlayDiv.css("z-index",settings.overlayZIndex),settings.overlayCSS&&$overlayDiv.css(settings.overlayCSS),$loadingDiv.css("display","none"),$(document.body).append($loadingDiv),$loadingDiv.css("position","absolute"),$loadingDiv.css("z-index",settings.indicatorZIndex);var indicatorTop=overlayTopPos;settings.marginTop&&(indicatorTop+=parseInt(settings.marginTop,10));var indicatorLeft=overlayLeftPos;settings.marginLeft&&(indicatorLeft+=parseInt(settings.marginTop,10)),"center"===settings.hPos.toString().toLowerCase()?$loadingDiv.css("left",(indicatorLeft+($overlayDiv.width()-parseInt($loadingDiv.width(),10))/2).toString()+"px"):"left"===settings.hPos.toString().toLowerCase()?$loadingDiv.css("left",(indicatorLeft+parseInt($overlayDiv.css("margin-left"),10)).toString()+"px"):"right"===settings.hPos.toString().toLowerCase()?$loadingDiv.css("left",(indicatorLeft+($overlayDiv.width()-parseInt($loadingDiv.width(),10))).toString()+"px"):$loadingDiv.css("left",(indicatorLeft+parseInt(settings.hPos,10)).toString()+"px"),"center"===settings.vPos.toString().toLowerCase()?$loadingDiv.css("top",(indicatorTop+($overlayDiv.height()-parseInt($loadingDiv.height(),10))/2).toString()+"px"):"top"===settings.vPos.toString().toLowerCase()?$loadingDiv.css("top",indicatorTop.toString()+"px"):"bottom"===settings.vPos.toString().toLowerCase()?$loadingDiv.css("top",(indicatorTop+($overlayDiv.height()-parseInt($loadingDiv.height(),10))).toString()+"px"):$loadingDiv.css("top",(indicatorTop+parseInt(settings.vPos,10)).toString()+"px"),settings.css&&$loadingDiv.css(settings.css);var callbackOptions={overlay:$overlayDiv,indicator:$loadingDiv,element:this};"function"==typeof settings.beforeShow&&settings.beforeShow(callbackOptions),$overlayDiv.show(),$loadingDiv.show(),"function"==typeof settings.afterShow&&settings.afterShow(callbackOptions);var self=this;return $loadingDiv.data("resizeAction",function(){$(self).hideLoading(),$(self).showLoading()}),$(window).resize($loadingDiv.data("resizeAction")),this},$.fn.hideLoading=function(options){var settings={};$.extend(settings,options);var indicatorID=settings.indicatorID||$(this).attr("id"),$loadingDiv=$(document.body).find("#loading-indicator-"+indicatorID);return $(window).off("resize",$loadingDiv.data("resizeAction")),$loadingDiv.remove(),$(document.body).find("#loading-indicator-"+indicatorID+"-overlay").remove(),this}});